<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UnChained International - Hugging Face Aktienanalyse</title>
    <style>
        /* Globale Stile */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background-color: #f0f2f5; /* Hintergrundfarbe */
            color: #333; /* Textfarbe */
        }

        /* Stile für den Header */
        header {
            background-color: #007bff; /* Blau */
            color: white;
            padding: 20px 0;
            text-align: center;
        }

        nav ul {
            list-style-type: none;
            padding: 0;
        }

        nav ul li {
            display: inline;
            margin: 0 10px;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
        }

        /* Stile für den Hauptinhalt */
        .container {
            width: 80%;
            margin: auto;
            padding: 20px 0;
        }

        h1, h2, h3 {
            margin: 0;
            font-weight: normal;
        }

        /* Stile für den Hero-Bereich */
        .hero {
            text-align: center;
            padding: 50px 0;
        }

        .hero h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 30px;
        }

        .btn {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            text-decoration: none;
            transition: background-color 0.3s;
        }

        .btn:hover {
            background-color: #0056b3; /* Dunkleres Blau */
        }

        /* Stile für den Footer */
        footer {
            background-color: #343a40; /* Dunkelgrau */
            color: white;
            padding: 20px 0;
            text-align: center;
        }

        /* Stile für die Aktienkurse */
        .stock-prices {
            text-align: center;
            margin-top: 20px;
            background-color: #0056b3; /* Hintergrundfarbe der Aktienkurse */
            color: white; /* Textfarbe der Aktienkurse */
            padding: 20px; /* Padding für den Abschnitt mit den Aktienkursen */
            overflow: hidden; /* Verhindert das Ausbrechen von Inhalten */
            white-space: nowrap; /* Verhindert das Umbruch von Text */
            position: relative; /* Positionierung relativ zum Container */
        }

        .stock-list {
            position: absolute; /* Absolute Positionierung */
            top: 50%; /* Vertikal zentrieren */
            left: 100%; /* Startposition rechts vom Container */
            animation: marquee 20s linear infinite; /* Animation für das Laufen */
            padding-left: 10px; /* Zusätzlicher Abstand zum Container */
            transform: translateY(-50%); /* Vertikal zentrieren */
        }

        .stock-item {
            display: inline-block; /* Aktien nebeneinander anzeigen */
            margin-right: 20px; /* Abstand zwischen den Aktien */
        }

        /* Animation für das Laufen */
        @keyframes marquee {
            0% {
                transform: translateX(0%);
            }
            100% {
                transform: translateX(-100%);
            }
        }

        /* Stile für den schwarzen Bildschirm */
        .black-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999; /* Stellen Sie sicher, dass es über allen anderen Elementen liegt */
            color: white;
            font-size: 2rem;
        }
    </style>
</head>
<body>
    <div class="black-screen">
        <span>UnChained</span>
    </div>

    <header>
        <div class="container">
            <h1>UnChained International</h1>
            <nav>
                <ul>
                    <li><a href="#">Startseite</a></li>
                    <li><a href="#">Über uns</a></li>
                    <li><a href="#">Aktienprognosen</a></li>
                    <li><a href="#">Kontakt</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <main>
        <section class="hero">
            <div class="container">
                <h2>Hugging Face Aktienanalyse</h2>
                <p>Erhalten Sie Vorhersagen für Aktien mit unserem AI-Modell von Hugging Face.</p>
                <form id="stock-form">
                    <label for="stock-input">Aktienname:</label>
                    <input type="text" id="stock-input" name="stock" required>
                    <button type="submit" class="btn">Prognose erhalten</button>
                </form>
            </div>
        </section>

        <!-- Aktienkurse als Seitlich laufende Liste -->
        <section class="stock-prices">
            <div class="stock-list">
                <!-- Aktienkurse werden dynamisch hinzugefügt -->
            </div>
        </section>
    </main>
    <footer>
        <div class="container">
            <p>&copy; 2024 UnChained International. Alle Rechte vorbehalten.</p>
        </div>
    </footer>

    <!-- JavaScript zur Abrufung der Aktienkurse und des Hugging Face Modells -->
    <script>
        // Funktion zum Abrufen der Aktienkurse von Alpha Vantage
        function getStockPrices() {
            // API-Schlüssel
            var apiKey = "DXP4A4ZA9XUU1MYG";
            // Symbole für Aktien
            var symbols = ["AAPL", "TSLA", "GOOGL"]; // Fügen Sie weitere Symbole hinzu, falls gewünscht
            // Basis-URL für die API-Anfrage
            var baseUrl = "https://www.alphavantage.co/query?function=GLOBAL_QUOTE&apikey=" + apiKey + "&symbol=";
            // Container für Aktienkurse
            var stockListContainer = document.querySelector(".stock-list");

            // Schleife durch die Symbole und Abruf der Aktienkurse
            symbols.forEach(function(symbol) {
                // Erstellen der vollständigen API-URL für jede Aktie
                var apiUrl = baseUrl + symbol;

                // API-Anfrage durchführen
                fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    // Extrahieren des aktuellen Preises aus der API-Antwort
                    var price = data["Global Quote"]["05. price"];
                    
                    // Erstellen eines Elements für die Aktie mit Symbol und Preis
                    var stockItem = document.createElement("div");
                    stockItem.classList.add("stock-item");
                    stockItem.textContent = symbol + ": $" + price;
                    
                    // Hinzufügen des Aktienelements zur Liste
                    stockListContainer.appendChild(stockItem);
                })
                .catch(error => console.error("Fehler beim Abrufen der Aktienkurse: ", error));
            });
        }

        // Funktion zum Abrufen von Vorhersagen vom Hugging Face Modell
        async function getStockPrediction(stockName) {
            try {
                const client = await window.Client.connect("maus2017/unchained-int");
                const result = await client.predict("/predict", { stock_name: stockName });
                return result.data;
            } catch (error) {
                console.error("Fehler beim Abrufen der Vorhersage: ", error);
                return null;
            }
        }

        // Funktion zum Verarbeiten des Formulars
        document.getElementById("stock-form").addEventListener("submit", function(event) {
            event.preventDefault();
            var stockName = document.getElementById("stock-input").value;
            getStockPrediction(stockName).then(prediction => {
                if (prediction) {
                    console.log("Vorhersage für", stockName, ":", prediction);
                    // Hier können Sie die Vorhersage weiterverarbeiten, z.B. anzeigen
                    // Erstellung des Prognoseberichts
                    var reportContent = "Aktie: " + stockName + "\n";
                    // Fügen Sie hier die Variablen für den Prognosebericht ein
                    // Verwenden Sie prediction und andere Daten, um den Bericht zu erstellen
                    // Beispiel: reportContent += "Prognose: " + prediction + "\n";
                    // Hier können Sie den Bericht generieren und herunterladen
                    generateReportAndDownload(reportContent);
                }
            });
        });

        // Funktion zum Generieren und Herunterladen des Prognoseberichts
        function generateReportAndDownload(reportContent) {
            // Mockup für den Bericht, Sie müssen die Funktion create_forecast_report entsprechend implementieren
            console.log("Prognosebericht generiert:", reportContent);
            // Mockup für den Herunterladen, Sie müssen den Bericht entsprechend herunterladen
            console.log("Prognosebericht heruntergeladen.");
        }

        // Aktualisieren der Aktienkurse alle 30 Sekunden
        setInterval(getStockPrices, 30000);
        // Aktualisieren der Aktienkurse beim Laden der Seite
        getStockPrices();

        // Verzögerung zum Ausblenden des schwarzen Bildschirms nach 2 Sekunden
        setTimeout(function() {
            document.querySelector(".black-screen").style.display = "none";
        }, 2000);
    </script>
</body>
</html>
